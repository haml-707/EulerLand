System.register(["./fog-c82f3158.js","./screen-b918b2af.js","./renderable-component-542a40ea.js","./camera-component-b0aa23d4.js","./renderable-2d-3f4a77a2.js"],(function(e){"use strict";var t,n,o,r,a,i,s,c,m,p,u,h,C,l,_,f,d,g,y,v,b,S,R,w,D,A,z,P,O,T,E,N;return{setters:[function(e){t=e.eQ,n=e.eS,o=e.eN,r=e.l,a=e.eT,i=e.ek,s=e.cW,c=e.dw,m=e.eY,p=e.ed,u=e.eM,h=e.fz,C=e.eX,l=e.fD,_=e.fA,f=e.f3,d=e.fB,g=e.dF,y=e.dE,v=e.d8,b=e.dG,S=e.f1},function(e){R=e.K,w=e.o,D=e.v},function(e){A=e.f,z=e.e,P=e.r},function(e){O=e.C},function(e){T=e.U,E=e.a,N=e.R}],execute:function(){var W,x,F,G,I,M,U,j,V,B,L,Y,k,H,K,Q=e("R",t("cc.RenderRoot2D")(W=z(100)(W=a()(W=P(T)(W=A(W=n(W=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.onEnable=function(){r.director.root.batcher2D.addScreen(this)},n.onDisable=function(){r.director.root.batcher2D.removeScreen(this)},n.onDestroy=function(){r.director.root.batcher2D.removeScreen(this)},t}(i))||W)||W)||W)||W)||W)||W),X=new s,q=c({OVERLAY:0,INTERSPERSE:1}),J=e("C",(x=t("cc.Canvas"),F=C(),G=z(100),I=a(),M=m(O),U=l(),j=l(),V=m(O),x(B=F(B=G(B=I(B=n(B=A((H=function(e){function t(){var t;return t=e.call(this)||this,_(t,"_cameraComponent",Y,f(t)),_(t,"_alignCanvasWithScreen",k,f(t)),t._thisOnCameraResized=void 0,t._fitDesignResolution=void 0,t._pos=new s,t._renderMode=q.OVERLAY,t._thisOnCameraResized=t._onResizeCamera.bind(f(t)),t}o(t,e);var n=t.prototype;return n.__preload=function(){var e=this.getComponent("cc.Widget");e&&e.updateAlignment(),this._cameraComponent&&this._cameraComponent._createCamera(),this._onResizeCamera(),this.node.on(p.TRANSFORM_CHANGED,this._thisOnCameraResized)},n.onDestroy=function(){e.prototype.onDestroy.call(this),this.node.off(p.TRANSFORM_CHANGED,this._thisOnCameraResized)},n._onResizeCamera=function(){if(this._cameraComponent&&this._alignCanvasWithScreen){if(this._cameraComponent.targetTexture){var e=this._cameraComponent.targetTexture.window;this._cameraComponent.camera&&this._cameraComponent.camera.setFixedSize(e.width,e.height),this._cameraComponent.orthoHeight=R.height/2}else if(w.canvas){var t=w.canvas;this._cameraComponent.camera&&this._cameraComponent.camera.resize(t.width,t.height),this._cameraComponent.orthoHeight=w.canvas.height/D.getScaleY()/2}this.node.getWorldPosition(X),this._cameraComponent.node.setWorldPosition(X.x,X.y,1e3)}},n._getViewPriority=function(){if(this._cameraComponent){var e,t=null===(e=this.cameraComponent)||void 0===e?void 0:e.priority;return this._renderMode===q.OVERLAY?t|1<<30:t&~(1<<30)}return 0},u(t,[{key:"renderMode",get:function(){return this._renderMode},set:function(e){this._renderMode=e,this._cameraComponent&&(this._cameraComponent.priority=this._getViewPriority())}},{key:"cameraComponent",get:function(){return this._cameraComponent},set:function(e){this._cameraComponent!==e&&(this._cameraComponent=e,this._onResizeCamera())}},{key:"alignCanvasWithScreen",get:function(){return this._alignCanvasWithScreen},set:function(e){this._alignCanvasWithScreen=e,this._onResizeCamera()}}]),t}(Q),h((L=H).prototype,"cameraComponent",[M,U],Object.getOwnPropertyDescriptor(L.prototype,"cameraComponent"),L.prototype),h(L.prototype,"alignCanvasWithScreen",[j],Object.getOwnPropertyDescriptor(L.prototype,"alignCanvasWithScreen"),L.prototype),Y=h(L.prototype,"_cameraComponent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=h(L.prototype,"_alignCanvasWithScreen",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=L))||B)||B)||B)||B)||B)||B));r.Canvas=J;var Z=e("U",t("cc.UIComponent")(K=P(T)(K=z(110)(K=A(K=n(K=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._lastParent=null,t.stencilStage=E.DISABLED,t}o(t,e);var n=t.prototype;return n.__preload=function(){this.node._uiProps.uiComp=this},n.onEnable=function(){},n.onDisable=function(){},n.onDestroy=function(){this.node._uiProps.uiComp===this&&(this.node._uiProps.uiComp=null)},n.updateAssembler=function(){},n.postUpdateAssembler=function(){},t}(i))||K)||K)||K)||K)||K);g(Z.prototype,"UIComponent",[{name:"_visibility"},{name:"setVisibility"}]),y(J.prototype,"Canvas.prototype",[{name:"camera",newName:"cameraComponent.camera",customGetter:function(){return this._cameraComponent.camera}},{name:"clearFlag",newName:"cameraComponent.clearFlags",customGetter:function(){return this._cameraComponent?this._cameraComponent.clearFlags:0},customSetter:function(e){this._cameraComponent&&(this._cameraComponent.clearFlags=e)}},{name:"color",newName:"cameraComponent.clearColor",customGetter:function(){return this._cameraComponent?this._cameraComponent.clearColor:v.BLACK},customSetter:function(e){this._cameraComponent&&(this._cameraComponent.clearColor=e)}},{name:"priority",newName:"cameraComponent.priority",customGetter:function(){return this._cameraComponent?this._cameraComponent.priority:0},customSetter:function(e){this._cameraComponent&&(this._cameraComponent.priority=e)}},{name:"targetTexture",newName:"cameraComponent.targetTexture",customGetter:function(){return this._cameraComponent?this._cameraComponent.targetTexture:null},customSetter:function(e){this._cameraComponent&&(this._cameraComponent.targetTexture=e)}},{name:"visibility",newName:"cameraComponent.visibility",customGetter:function(){return this._cameraComponent?this._cameraComponent.visibility:0}}]),b(N.prototype,"Renderable2D.prototype",[{name:"srcBlendFactor",suggest:"Please use a custom material to specify blending options instead."},{name:"dstBlendFactor",suggest:"Please use a custom material to specify blending options instead."}]),b(T.prototype,"UITransform.prototype",[{name:"priority",suggest:"Please use setSiblingIndex to change index of the current node in its parent's children array."}]),r.UITransformComponent=T,S.setClassAlias(T,"cc.UITransformComponent"),S.setClassAlias(N,"cc.RenderComponent"),r.CanvasComponent=J,S.setClassAlias(J,"cc.CanvasComponent")}}}));
