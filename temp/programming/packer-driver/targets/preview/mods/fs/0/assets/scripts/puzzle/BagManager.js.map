{"version":3,"sources":["file:///C:/eulerland%20game/EulerLand/assets/scripts/puzzle/BagManager.ts"],"names":["_decorator","Component","Node","Vec3","Animation","UITransform","EventManager","ItemStatus","ccclass","property","BagManager","type","Openbag","bagOn","anim","play","GetItem","event","btn","target","itemStatus","getComponent","isInBag","setParent","grid","SelectItem","select","btnLNowClick","position","x","parent","scale","y","active","SynItem","custom","isItem","synGet","width","height","isLong","console","log","name","btnLastClick","canSyn","isUse","isSyn","synCode","destroy","synItems","synFailed","canUse","usedItem","useCode","time","UseFinished","UseItem","eventManager","Event0","Event1","Event2","Event3","Event4","Event5","Event6","Event7","Event8","Event9","event9","Event10","Event11","Event12","Event13","Event14","Event15","Event16","Event17","start"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, Prefab, UI, Button, Event, Vec3, Animation, UITransform } from 'cc';\r\nimport { EventManager } from './EventManager';\r\nimport { ItemStatus } from './ItemStatus';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('BagManager')\r\nexport class BagManager extends Component {\r\n    @property({\r\n        type: Node,\r\n    })\r\n    btnLastClick: Node = null!;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    btnLNowClick: Node = null!;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    grid: Node = null!;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    select: Node = null!;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    synFailed: Node = null!;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    synItems: Node[] = [];\r\n    @property({\r\n        type: EventManager\r\n    })\r\n    eventManager: EventManager = null!;\r\n    @property({\r\n        type: Animation\r\n    })\r\n    anim: Animation = null!;\r\n\r\n    usedItem: Node = null!;\r\n\r\n    isSyn = false;\r\n    isUse = false;\r\n    synCode = -1;\r\n    useCode = -1;\r\n    bagOn = false;\r\n    //public \r\n\r\n    public Openbag() {\r\n        this.bagOn = !this.bagOn;\r\n        if (this.bagOn) {\r\n            this.anim.play(\"bagOn\");\r\n        }\r\n        else {\r\n            this.anim.play(\"bagOff\");\r\n        }\r\n    }\r\n    public GetItem(event: Event) {\r\n        let btn = event!.target as Node;\r\n        let itemStatus = btn.getComponent(ItemStatus);\r\n        if (!itemStatus?.isInBag) {\r\n            btn.setParent(this.grid);\r\n            itemStatus!.isInBag = true;\r\n        }\r\n    }\r\n    public SelectItem() {\r\n        this.select.setParent(this.btnLNowClick);\r\n        this.select.position = new Vec3(0, 0, 0);\r\n        let x = 1 / this.select.parent!.scale.x;\r\n        let y = 1 / this.select.parent!.scale.y;\r\n        this.select.scale = new Vec3(x, y, 1);\r\n        this.select.active = true;\r\n    }\r\n    public SynItem(event: Event, custom: string) {//�ϳ�+ʹ�û��\r\n        this.btnLNowClick = event!.target as Node;\r\n        let itemStatus = this.btnLNowClick.getComponent(ItemStatus);\r\n        if (itemStatus?.isItem) {\r\n            if (!itemStatus?.isInBag && !itemStatus.synGet) {\r\n                let x = this.btnLNowClick.getComponent(UITransform)!.width / 376;\r\n                let y = this.btnLNowClick.getComponent(UITransform)!.height / 360;\r\n                if (x > 1 && y > 1) {\r\n                    if (x >= y) this.btnLNowClick.scale = new Vec3(1 / x, 1 / x, 1);\r\n                    else this.btnLNowClick.scale = new Vec3(1 / y, 1 / y, 1);\r\n                }\r\n                else if (x < 1) {\r\n                    if (x <= 1 / y) this.btnLNowClick.scale = new Vec3(x, x, 1);\r\n                    else this.btnLNowClick.scale = new Vec3(1/y, 1/y, 1);\r\n                }\r\n                else if (y < 1) {\r\n                    if (1/x <= y) this.btnLNowClick.scale = new Vec3(1/x, 1/x, 1);\r\n                    else this.btnLNowClick.scale = new Vec3(y, y, 1);\r\n                }\r\n                else {\r\n                    if (x <= y) this.btnLNowClick.scale = new Vec3(x, x, 1);\r\n                    else this.btnLNowClick.scale = new Vec3(y, y, 1);\r\n                }\r\n                this.btnLNowClick.setParent(this.grid);\r\n                itemStatus!.isInBag = true;\r\n            }\r\n            else if (itemStatus.isItem) {\r\n                if (!itemStatus?.isLong ) {\r\n                    console.log(this.btnLNowClick.name + \"//now\");\r\n                    if (this.btnLastClick != null) console.log(this.btnLastClick.name + \"//last\");\r\n                    if (this.btnLNowClick != this.btnLastClick) {\r\n                        if (itemStatus!.canSyn) {//��Ʒ�ܺϳ�\r\n                            this.isUse = false;\r\n                            if (!this.isSyn) {//�Ǻϳ�״̬\r\n                                /*this.select.setParent(this.btnLNowClick);\r\n                                this.select.position = new Vec3(0, 0, 0);\r\n                                this.select.active = true;*/\r\n                                this.SelectItem();\r\n                                this.isSyn = true;\r\n                                this.synCode = itemStatus.synCode;\r\n                            }\r\n                            else {//�ϳ�״̬\r\n                                this.SelectItem();\r\n                                if (this.synCode == itemStatus.synCode) {//�ϳɳɹ�\r\n                                    this.select.setParent(this.grid);\r\n                                    this.select.active = false;\r\n                                    this.btnLNowClick.destroy();\r\n                                    this.btnLastClick.destroy();\r\n                                    this.synItems[this.synCode].active = true;\r\n                                }\r\n                                else {//�ϳ�ʧ��\r\n                                    this.synFailed.active = true;\r\n                                    this.synCode = -1;\r\n                                }\r\n                                this.isSyn = false;\r\n                                this.select.active = false;\r\n                            }\r\n                        }\r\n                        else if (itemStatus.canUse) {//����\r\n                            this.isSyn = false;\r\n                            this.SelectItem();\r\n                            this.isUse = true;\r\n                            this.usedItem = this.btnLNowClick;\r\n                            this.useCode = itemStatus.useCode;\r\n                        }\r\n                        else {//��Ʒ���ܺϳ�/ʹ��\r\n                            this.SelectItem();\r\n                            this.isSyn = false;\r\n                        }\r\n                        this.btnLastClick = event!.target as Node;\r\n                    }\r\n                    else {\r\n                        this.select.active = !this.select.active;\r\n                        if (itemStatus?.canSyn) this.isSyn = !this.isSyn;\r\n                        if (itemStatus?.canUse) this.isUse = !this.isUse;\r\n                        this.synCode = itemStatus.synCode;\r\n                        this.useCode = itemStatus.useCode;\r\n                    }\r\n                }\r\n                else {\r\n                    itemStatus.time = 0.5;\r\n                    itemStatus.isLong = false;\r\n                }\r\n            }\r\n        }\r\n        else {//ʹ�û��\r\n            if (this.isSyn) {\r\n                if (this.synCode == itemStatus!.synCode) {\r\n                    this.select.setParent(this.grid);\r\n                    this.select.active = false;\r\n                    this.btnLNowClick.destroy();\r\n                    this.btnLastClick.destroy();\r\n                    this.synItems[this.synCode].active = true;\r\n                    this.isSyn = false;\r\n                }\r\n                else {\r\n                    this.select.active = false;\r\n                    this.isSyn = false;\r\n                    this.synCode = -1;\r\n                }\r\n            }\r\n        }\r\n        console.log(this.synCode);\r\n        console.log(this.isSyn);\r\n    }\r\n    public UseFinished() {\r\n        this.isUse = false;\r\n        this.select.setParent(this.grid);\r\n        this.select.active = false;\r\n        this.usedItem.destroy();\r\n    }\r\n    public UseItem(event: Event, custom: string) {//����ʹ��\r\n        let btn = event!.target as Node;\r\n        let itemStatus = btn.getComponent(ItemStatus);\r\n        if (this.isUse) {\r\n            if (this.useCode == itemStatus?.useCode) {\r\n                switch (this.useCode) {\r\n                    case 0:\r\n                        if (this.usedItem.name == \"00\") {\r\n                            this.eventManager.Event0(0, itemStatus);\r\n                        }\r\n                        else {\r\n                            this.eventManager.Event0(1, itemStatus);\r\n                        }\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 1:\r\n                        this.eventManager.Event1(btn, this.usedItem.getComponent(ItemStatus)!);\r\n                        this.select.active = false;\r\n                        if (this.usedItem.getComponent(ItemStatus)?.synCode == 1)\r\n                            this.UseFinished();\r\n                        break;\r\n                    case 2:\r\n                        this.eventManager.Event2();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 3:\r\n                        this.eventManager.Event3();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 4:\r\n                        this.eventManager.Event4();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 5:\r\n                        this.eventManager.Event5();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 6:\r\n                        this.eventManager.Event6();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 7:\r\n                        this.eventManager.Event7();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 8:\r\n                        this.eventManager.Event8();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 9:\r\n                        this.eventManager.Event9();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 10:\r\n                        if (this.eventManager.event9) {\r\n                            this.eventManager.Event10();\r\n                            this.UseFinished();\r\n                        }\r\n                        break;\r\n                    case 11:\r\n                        this.eventManager.Event11();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 12:\r\n                        this.eventManager.Event12();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 13:\r\n                        this.eventManager.Event13();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 14:\r\n                        this.eventManager.Event14();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 15:\r\n                        this.eventManager.Event15();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 16:\r\n                        this.eventManager.Event16();\r\n                        this.UseFinished();\r\n                        break;\r\n                    case 17:\r\n                        this.eventManager.Event17();\r\n                        this.UseFinished();\r\n                        break;\r\n                }\r\n                this.isUse = false;\r\n            }\r\n            else {\r\n                this.isUse = false;\r\n                this.select.active = false;\r\n                this.useCode = -1;\r\n            }\r\n        }\r\n    }\r\n    start () {\r\n        // [3]\r\n    }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}