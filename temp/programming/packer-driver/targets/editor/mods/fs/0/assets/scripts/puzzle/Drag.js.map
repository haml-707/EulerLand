{"version":3,"sources":["file:///C:/Users/86152/Desktop/laowang/EulerLand/assets/scripts/puzzle/Drag.ts"],"names":["_decorator","Component","Node","UITransform","Vec3","ccclass","property","Drag","type","onLoad","node","on","EventType","TOUCH_MOVE","_onTouchMove","uiTransform","getComponent","start","console","log","position","touchEvent","location","getLocation","convertToNodeSpaceAR","x","y"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAkBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;;;;;;;OACzD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;sBAGjBO,I,WADZF,OAAO,CAAC,MAAD,C,UAEHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEL;AADA,OAAD,C,oCAFb,MACaI,IADb,SAC0BN,SAD1B,CACoC;AAAA;AAAA;;AAAA;;AAAA,0CAKf,IALe;AAAA;;AAMhCQ,QAAAA,MAAM,GAAG;AACL,eAAKC,IAAL,CAAUC,EAAV,CAAaT,IAAI,CAACU,SAAL,CAAeC,UAA5B,EAAwC,KAAKC,YAA7C,EAA2D,IAA3D;AACA,eAAKC,WAAL,GAAmB,KAAKL,IAAL,CAAUM,YAAV,CAAuBb,WAAvB,CAAnB;AACH;;AAEDc,QAAAA,KAAK,GAAG;AACJC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,IAAL,CAAUU,QAAtB,EADI,CAEJ;AACH;;AACMN,QAAAA,YAAY,CAACO,UAAD,EAAyB;AACxC,cAAIC,QAAQ,GAAGD,UAAU,CAACE,WAAX,EAAf;AAEAL,UAAAA,OAAO,CAACC,GAAR,CAAYG,QAAQ,GAAC,MAArB;AACA,eAAKZ,IAAL,CAAUU,QAAV,GAAqB,KAAKL,WAAL,CAAiBS,oBAAjB,CAAsC,IAAIpB,IAAJ,CAASkB,QAAQ,CAACG,CAAlB,EAAqBH,QAAQ,CAACI,CAA9B,EAAiC,CAAjC,CAAtC,CAArB;AACAR,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,IAAL,CAAUU,QAAV,GAAqB,KAAjC;AACH;;AArB+B,O;;;;;iBAIL,I;;;AAqB/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\r\nimport { _decorator, Component, Node, EventTouch, UITransform, Vec3, Camera } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Drag')\r\nexport class Drag extends Component {\r\n    @property({\r\n        type: UITransform\r\n    })\r\n    uiTransform: UITransform = null!;\r\n    camera: Camera = null!;\r\n    onLoad() {\r\n        this.node.on(Node.EventType.TOUCH_MOVE, this._onTouchMove, this);\r\n        this.uiTransform = this.node.getComponent(UITransform)!;\r\n    }\r\n\r\n    start() {\r\n        console.log(this.node.position);\r\n        // [3]\r\n    }\r\n    public _onTouchMove(touchEvent: EventTouch) {\r\n        let location = touchEvent.getLocation();\r\n        \r\n        console.log(location+\"\\\\\\\\\");\r\n        this.node.position = this.uiTransform.convertToNodeSpaceAR(new Vec3(location.x, location.y, 0));\r\n        console.log(this.node.position + \"|||\");\r\n    }\r\n    \r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}