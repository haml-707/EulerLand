{"version":3,"sources":["file:///C:/Users/86152/Desktop/laowang/EulerLand/assets/scripts/puzzle/PlayerPuzzleControl.ts"],"names":["_decorator","Component","macro","systemEvent","SystemEventType","Enum","Animation","ccclass","property","PlayerPuzzleControl","ALeft","DRight","SDown","WUP","None","Used","directionType","start","onLoad","on","KEY_DOWN","onKeyDownEvent","KEY_UP","onKeyUpEvent","animation","getComponent","onDestroy","off","event","keyCode","KEY","a","direction","update","deltaTime","play"],"mappings":";;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,K,OAAAA,K;AAAsBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,e,OAAAA,e;AAAiBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,S,OAAAA,S;;;;;;;OAC1F;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;qCAGjBS,mB,WADZF,OAAO,CAAC,qBAAD,C,yBAAR,MACaE,mBADb,SACyCR,SADzC,CACmD;AAAA;AAAA;;AAAA;;AAAA,iDAmB/BI,IAAI,CAAC;AACjBK,YAAAA,KAAK,EAAE,CADU;AAEjBC,YAAAA,MAAM,EAAE,CAFS;AAGjBC,YAAAA,KAAK,EAAE,CAHU;AAIjBC,YAAAA,GAAG,EAAE,CAJY;AAKjBC,YAAAA,IAAI,EAAE,CALW;AAMjBC,YAAAA,IAAI,EAAE;AANW,WAAD,CAnB2B;;AAAA,6CA2BnC,KAAKC,aAAL,CAAmBF,IA3BgB;AAAA;;AAW/CG,QAAAA,KAAK,GAAG,CACJ;AACH,SAb8C,CAe/C;AACA;AACA;;;AAWAC,QAAAA,MAAM,GAAG;AACLf,UAAAA,WAAW,CAACgB,EAAZ,CAAef,eAAe,CAACgB,QAA/B,EAAyC,KAAKC,cAA9C,EAA8D,IAA9D;AACAlB,UAAAA,WAAW,CAACgB,EAAZ,CAAef,eAAe,CAACkB,MAA/B,EAAuC,KAAKC,YAA5C,EAA0D,IAA1D;AACA,eAAKC,SAAL,GAAiB,KAAKC,YAAL,CAAkBnB,SAAlB,CAAjB;AACH;;AACDoB,QAAAA,SAAS,GAAG;AACRvB,UAAAA,WAAW,CAACwB,GAAZ,CAAgBvB,eAAe,CAACgB,QAAhC,EAA0C,KAAKC,cAA/C,EAA+D,IAA/D;AACAlB,UAAAA,WAAW,CAACwB,GAAZ,CAAgBvB,eAAe,CAACkB,MAAhC,EAAwC,KAAKC,YAA7C,EAA2D,IAA3D;AACH;;AAEDF,QAAAA,cAAc,CAACO,KAAD,EAAuB;AACjC,kBAAQA,KAAK,CAACC,OAAd;AACI,iBAAK3B,KAAK,CAAC4B,GAAN,CAAUC,CAAf;AACI,mBAAKC,SAAL,GAAiB,KAAKhB,aAAL,CAAmBN,KAApC;AAFR;AAIH;;AAEDa,QAAAA,YAAY,CAACK,KAAD,EAAuB;AAC/B,kBAAQA,KAAK,CAACC,OAAd;AACI,iBAAK3B,KAAK,CAAC4B,GAAN,CAAUC,CAAf;AACI,mBAAKC,SAAL,GAAiB,KAAKhB,aAAL,CAAmBF,IAApC;AAFR;AAIH;;AACDmB,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,cAAI,KAAKF,SAAL,IAAkB,KAAKhB,aAAL,CAAmBF,IAAzC,EACA;AACI,iBAAKU,SAAL,CAAeW,IAAf,CAAoB,MAApB;AACA,iBAAKH,SAAL,GAAiB,KAAKhB,aAAL,CAAmBD,IAApC;AACH,WAJD,MAKK;AACD,iBAAKS,SAAL,CAAeW,IAAf,CAAoB,MAApB;AACH;AACJ;;AA5D8C,O;AA8DnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\r\nimport { _decorator, Component, Node, macro, EventKeyboard, systemEvent, SystemEventType, Enum, Animation } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PlayerPuzzleControl')\r\nexport class PlayerPuzzleControl extends Component {\r\n    // [1]\r\n    // dummy = '';\r\n\r\n    // [2]\r\n    // @property\r\n    // serializableDummy = 0;\r\n\r\n\r\n    animation:any;\r\n\r\n    start() {\r\n        // [3]\r\n    }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n    \r\n    directionType = Enum({\r\n        ALeft: 0,\r\n        DRight: 1,\r\n        SDown: 2,\r\n        WUP: 3,\r\n        None: 4,\r\n        Used: 5\r\n    });\r\n    direction = this.directionType.None;\r\n    onLoad() {\r\n        systemEvent.on(SystemEventType.KEY_DOWN, this.onKeyDownEvent, this);\r\n        systemEvent.on(SystemEventType.KEY_UP, this.onKeyUpEvent, this);\r\n        this.animation = this.getComponent(Animation);  \r\n    }\r\n    onDestroy() {\r\n        systemEvent.off(SystemEventType.KEY_DOWN, this.onKeyDownEvent, this);\r\n        systemEvent.off(SystemEventType.KEY_UP, this.onKeyUpEvent, this);\r\n    }\r\n\r\n    onKeyDownEvent(event: EventKeyboard) {\r\n        switch (event.keyCode) {\r\n            case macro.KEY.a:\r\n                this.direction = this.directionType.ALeft;\r\n        }\r\n    }\r\n\r\n    onKeyUpEvent(event: EventKeyboard) {\r\n        switch (event.keyCode) {\r\n            case macro.KEY.a:\r\n                this.direction = this.directionType.None;\r\n        }\r\n    }\r\n    update(deltaTime: number) {\r\n        if (this.direction != this.directionType.None)\r\n        {\r\n            this.animation.play(\"move\");\r\n            this.direction = this.directionType.Used;\r\n        }\r\n        else {\r\n            this.animation.play(\"idle\");\r\n        }\r\n    }\r\n}\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}