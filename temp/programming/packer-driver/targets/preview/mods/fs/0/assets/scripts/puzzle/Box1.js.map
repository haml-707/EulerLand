{"version":3,"sources":["file:///C:/eulerland%20game/EulerLand/assets/scripts/puzzle/Box1.ts"],"names":["_decorator","Component","Node","Label","ccclass","property","Box1","type","SwitchCode","event","btn","target","label","children","getComponent","a","Number","string","i","length","active","toString","start","update","deltaTime","nodes","mask","console","log","t1","node2"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAaC,MAAAA,K,OAAAA,K;;;;;;;AACrCC,MAAAA,O,GAAsBJ,U,CAAtBI,O;AAASC,MAAAA,Q,GAAaL,U,CAAbK,Q;;sBAGJC,I,WADZF,OAAO,CAAC,MAAD,C,UAEHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEL;AADA,OAAD,C,UAIRG,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEL;AADA,OAAD,C,UAIRG,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEL;AADA,OAAD,C;;;;;;;;;;;;;;;;;;+DAKJ,G;;;;;;;eAEEM,U,GAAP,oBAAkBC,KAAlB,EAAgC;AAC5B,cAAIC,GAAG,GAAGD,KAAK,CAACE,MAAhB;AACA,cAAIC,KAAK,GAAGF,GAAG,CAACG,QAAJ,CAAa,CAAb,EAAgBC,YAAhB,CAA6BX,KAA7B,CAAZ;AACA,cAAIY,CAAC,GAAGC,MAAM,CAACJ,KAAD,aAACA,KAAD,uBAACA,KAAK,CAAEK,MAAR,CAAd;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,GAAG,CAACG,QAAJ,CAAaM,MAAjC,EAAyCD,CAAC,EAA1C;AACIR,YAAAA,GAAG,CAACG,QAAJ,CAAaK,CAAb,EAAgBE,MAAhB,GAAyB,KAAzB;AADJ;;AAEAV,UAAAA,GAAG,CAACG,QAAJ,CAAaE,CAAb,EAAgBK,MAAhB,GAAyB,IAAzB;AACAL,UAAAA,CAAC;AACD,cAAIA,CAAC,IAAI,CAAT,EAAYA,CAAC,GAAG,CAAJ;AACZH,UAAAA,KAAK,CAAEK,MAAP,GAAgBF,CAAC,CAACM,QAAF,EAAhB;AACH,S;;eACDC,K,GAAA,iBAAS,CACL;AACH,S;;eAEDC,M,GAAA,gBAAOC,SAAP,EAA0B;AACtB,cAAI,KAAKC,KAAL,CAAW,CAAX,EAAcL,MAAd,IAAwB,KAAKK,KAAL,CAAW,CAAX,EAAcL,MAAtC,IAAgD,KAAKK,KAAL,CAAW,CAAX,EAAcL,MAA9D,IAAwE,KAAKK,KAAL,CAAW,CAAX,EAAcL,MAA1F,EAAkG;AAC9F,iBAAKM,IAAL,CAAUN,MAAV,GAAmB,IAAnB;AACAO,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,EAAjB;;AACA,gBAAI,KAAKA,EAAL,IAAW,CAAf,EAAkB;AACd,mBAAKC,KAAL,CAAWV,MAAX,GAAoB,IAApB;AACH;AACJ;AACH,S;;;QAvCoBnB,S;;;;;iBAIN,E;;;;;;;iBAIH,I;;;;;;;iBAIC,I","sourcesContent":["\r\nimport { _decorator, Component, Node, Event, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Box1')\r\nexport class Box1 extends Component {\r\n    @property({\r\n        type: Node\r\n    })\r\n    nodes: Node[] = [];\r\n    @property({\r\n        type: Node\r\n    })\r\n    mask: Node = null!;\r\n    @property({\r\n        type: Node\r\n    })\r\n    node2: Node = null!;\r\n\r\n    t1 = 0.7;\r\n\r\n    public SwitchCode(event: Event) {\r\n        let btn = event.target! as Node;\r\n        let label = btn.children[4].getComponent(Label);\r\n        let a = Number(label?.string);\r\n        for (let i = 0; i < btn.children.length; i++)\r\n            btn.children[i].active = false;\r\n        btn.children[a].active = true;\r\n        a++;\r\n        if (a >= 4) a = 0;\r\n        label!.string = a.toString();\r\n    }\r\n    start () {\r\n        // [3]\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if (this.nodes[0].active && this.nodes[1].active && this.nodes[2].active && this.nodes[3].active) {\r\n            this.mask.active = true;\r\n            console.log(this.t1);\r\n            if (this.t1 <= 0) {\r\n                this.node2.active = true;\r\n            }\r\n        }\r\n     }\r\n}\r\n"]}