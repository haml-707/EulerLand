{"version":3,"sources":["file:///C:/Users/86152/Desktop/laowang/EulerLand/assets/scripts/parkour/Q&A.ts"],"names":["_decorator","Component","Node","CCBoolean","randomRangeInt","Vec3","Label","color","GameManager","PlayerControl","GlobalFunction","AudioManager","ccclass","property","QA","type","KeepGo","downCount","active","playerControl","animator","resume","gameManager","isPause","playSound","SetQA","a","sa","question","string","globalFunc","questionBank","description","console","log","questions","children","getComponent","aOption","bOption","cOption","dOption","right","isTrue","Select","event","btn","target","lab","scheduleOnce","Succeed","DownCount","isInvisibleH","t1","Failed","GiveUp","ResetStatus","i","length","QAPanel","scale","GameOver","start"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAA4CC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,c,OAAAA,c;AAA4CC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAA2BC,MAAAA,K,OAAAA,K;;AAEjKC,MAAAA,W,gBAAAA,W;;AACAC,MAAAA,a,kBAAAA,a;;AACAC,MAAAA,c,yBAAAA,c;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;AACDC,MAAAA,O,GAAsBZ,U,CAAtBY,O;AAASC,MAAAA,Q,GAAab,U,CAAba,Q;;oBAGJC,E,WADZF,OAAO,CAAC,IAAD,C,UAEHC,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA;AADE,OAAD,C,UAIRF,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA;AADE,OAAD,C,UAIRF,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEZ;AADA,OAAD,C,UAIRU,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEb;AADA,OAAD,C,UAIRW,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAET;AADA,OAAD,C,UAIRO,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEb;AADA,OAAD,C,UAIRW,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA;AADE,OAAD,C;;;;;;;;;;;;;;;;;;;;;;;;;;+DAKJ,C;;;;;;;eAEEC,M,GAAP,kBAAgB;AACZ;AACA,eAAKC,SAAL,CAAeC,MAAf,GAAwB,KAAxB;AACA,eAAKC,aAAL,CAAmBC,QAAnB,CAA4BC,MAA5B;AACA,eAAKC,WAAL,CAAiBC,OAAjB,GAA2B,KAA3B;AACA;AAAA;AAAA,4CAAaC,SAAb,CAAuB,IAAvB;AACH,S;;eAEMC,K,GAAP,iBAAe;AACX,cAAIC,CAAC,GAAGtB,cAAc,CAAC,CAAD,EAAI,CAAJ,CAAtB;;AACA,cAAI,KAAKuB,EAAL,IAAWD,CAAf,EAAkB;AACd,gBAAI,KAAKC,EAAL,IAAW,CAAf,EAAkB;AACdD,cAAAA,CAAC,GAAGtB,cAAc,CAAC,CAAD,EAAI,KAAKuB,EAAT,CAAlB;AACH,aAFD,MAGK;AACDD,cAAAA,CAAC,GAAGtB,cAAc,CAAC,CAAD,EAAI,CAAJ,CAAlB;AACH;AACJ,WAPD,MAQK;AACD,iBAAKuB,EAAL,GAAUD,CAAV;AACH;;AACD,eAAKE,QAAL,CAAcC,MAAd,GAAuB,KAAKC,UAAL,CAAgBC,YAAhB,CAA6BL,CAA7B,EAAgCM,WAAvD;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,QAAjB;AAEA,eAAKO,SAAL,CAAeC,QAAf,CAAwB,CAAxB,EAA2BA,QAA3B,CAAoC,CAApC,EAAuCC,YAAvC,CAAoD/B,KAApD,EAA4DuB,MAA5D,GAAqE,KAAKC,UAAL,CAAgBC,YAAhB,CAA6BL,CAA7B,EAAgCY,OAArG;AACA,eAAKH,SAAL,CAAeC,QAAf,CAAwB,CAAxB,EAA2BA,QAA3B,CAAoC,CAApC,EAAuCC,YAAvC,CAAoD/B,KAApD,EAA4DuB,MAA5D,GAAqE,KAAKC,UAAL,CAAgBC,YAAhB,CAA6BL,CAA7B,EAAgCa,OAArG;AACA,eAAKJ,SAAL,CAAeC,QAAf,CAAwB,CAAxB,EAA2BA,QAA3B,CAAoC,CAApC,EAAuCC,YAAvC,CAAoD/B,KAApD,EAA4DuB,MAA5D,GAAqE,KAAKC,UAAL,CAAgBC,YAAhB,CAA6BL,CAA7B,EAAgCc,OAArG;AACA,eAAKL,SAAL,CAAeC,QAAf,CAAwB,CAAxB,EAA2BA,QAA3B,CAAoC,CAApC,EAAuCC,YAAvC,CAAoD/B,KAApD,EAA4DuB,MAA5D,GAAqE,KAAKC,UAAL,CAAgBC,YAAhB,CAA6BL,CAA7B,EAAgCe,OAArG;;AACA,kBAAQ,KAAKX,UAAL,CAAgBC,YAAhB,CAA6BL,CAA7B,EAAgCgB,KAAxC;AACI,iBAAK,GAAL;AACI,mBAAKP,SAAL,CAAeC,QAAf,CAAwB,CAAxB,EAA2BC,YAA3B,CAAwCvB,EAAxC,EAA6C6B,MAA7C,GAAsD,IAAtD;AACA;;AACJ,iBAAK,GAAL;AACI,mBAAKR,SAAL,CAAeC,QAAf,CAAwB,CAAxB,EAA2BC,YAA3B,CAAwCvB,EAAxC,EAA6C6B,MAA7C,GAAsD,IAAtD;AACA;;AACJ,iBAAK,GAAL;AACI,mBAAKR,SAAL,CAAeC,QAAf,CAAwB,CAAxB,EAA2BC,YAA3B,CAAwCvB,EAAxC,EAA6C6B,MAA7C,GAAsD,IAAtD;AACA;;AACJ,iBAAK,GAAL;AACI,mBAAKR,SAAL,CAAeC,QAAf,CAAwB,CAAxB,EAA2BC,YAA3B,CAAwCvB,EAAxC,EAA6C6B,MAA7C,GAAsD,IAAtD;AACA;;AACJ;AACIV,cAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA;AAfR;AAiBH,S;;eAEMU,M,GAAP,gBAAcC,KAAd,EAA4B;AAAA;;AAExB,cAAIC,GAAG,GAAGD,KAAK,CAAEE,MAAjB;AACAd,UAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AAEA,cAAIc,GAAG,GAAGF,GAAG,CAACV,QAAJ,CAAa,CAAb,EAAgBC,YAAhB,CAA6B/B,KAA7B,CAAV;AACA0C,UAAAA,GAAG,CAAEzC,KAAL,GAAaA,KAAK,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,CAAlB;;AACA,mCAAIuC,GAAG,CAACT,YAAJ,CAAiBvB,EAAjB,CAAJ,sDAAI,kBAAsB6B,MAA1B,EAAkC;AAC9B;AAAA;AAAA,8CAAanB,SAAb,CAAuB,OAAvB;AACAsB,YAAAA,GAAG,CAACV,QAAJ,CAAa,CAAb,EAAgBlB,MAAhB,GAAyB,IAAzB;AACA4B,YAAAA,GAAG,CAACV,QAAJ,CAAa,CAAb,EAAgBlB,MAAhB,GAAyB,KAAzB;AACA,iBAAK+B,YAAL,CAAkB,KAAKC,OAAvB,EAAgC,CAAhC;AACA,iBAAK5B,WAAL,CAAiB6B,SAAjB,CAA2B,CAA3B;AACA,iBAAKF,YAAL,CAAkB,KAAKjC,MAAvB,EAA+B,CAA/B;AACA,iBAAKG,aAAL,CAAmBiC,YAAnB,GAAkC,IAAlC;AACA,iBAAKjC,aAAL,CAAmBkC,EAAnB,GAAwB,CAAxB;AACH,WATD,MAUK;AACD;AAAA;AAAA,8CAAa7B,SAAb,CAAuB,MAAvB;AACAsB,YAAAA,GAAG,CAACV,QAAJ,CAAa,CAAb,EAAgBlB,MAAhB,GAAyB,KAAzB;AACA4B,YAAAA,GAAG,CAACV,QAAJ,CAAa,CAAb,EAAgBlB,MAAhB,GAAyB,IAAzB;AACA,iBAAK+B,YAAL,CAAkB,KAAKK,MAAvB,EAA+B,CAA/B,EAJC,CAKH;AACD;AACJ,S;;eACMC,M,GAAP,kBAAgB;AACZ,eAAKD,MAAL;AACH,S;;eACME,W,GAAP,uBAAqB;AACjB,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,SAAL,CAAeC,QAAf,CAAwBsB,MAA5C,EAAoDD,CAAC,EAArD,EAAyD;AACrD,iBAAKtB,SAAL,CAAeC,QAAf,CAAwBqB,CAAxB,EAA2BrB,QAA3B,CAAoC,CAApC,EAAuClB,MAAvC,GAAgD,KAAhD;AACA,iBAAKiB,SAAL,CAAeC,QAAf,CAAwBqB,CAAxB,EAA2BrB,QAA3B,CAAoC,CAApC,EAAuClB,MAAvC,GAAgD,KAAhD;AACA,gBAAI8B,GAAG,GAAG,KAAKb,SAAL,CAAeC,QAAf,CAAwBqB,CAAxB,EAA2BrB,QAA3B,CAAoC,CAApC,EAAuCC,YAAvC,CAAoD/B,KAApD,CAAV;AACA0C,YAAAA,GAAG,CAAEzC,KAAL,GAAaA,KAAK,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAAlB;AACA,iBAAK4B,SAAL,CAAeC,QAAf,CAAwBqB,CAAxB,EAA2BpB,YAA3B,CAAwCvB,EAAxC,EAA6C6B,MAA7C,GAAsD,KAAtD;AACH;AACJ,S;;eACMW,M,GAAP,kBAAgB;AACZ,eAAKE,WAAL;AACA,eAAKlC,WAAL,CAAiBqC,OAAjB,CAAyBvB,QAAzB,CAAkC,CAAlC,EAAqCwB,KAArC,GAA6C,IAAIvD,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAA7C;AACA,eAAKiB,WAAL,CAAiBuC,QAAjB,CAA0B,KAA1B;AACH,S;;eACMX,O,GAAP,mBAAiB;AACb,eAAK5B,WAAL,CAAiBqC,OAAjB,CAAyBzC,MAAzB,GAAkC,KAAlC;AACA,eAAKI,WAAL,CAAiBqC,OAAjB,CAAyBvB,QAAzB,CAAkC,CAAlC,EAAqCwB,KAArC,GAA6C,IAAIvD,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAA7C;AACA,eAAKmD,WAAL;AACH,S;;eACDM,K,GAAA,iBAAS,CACL;AACH,S,CAED;AACA;AACA;;;;QApIoB7D,S;;;;;iBAIO,I;;;;;;;iBAII,I;;;;;;;iBAIb,K;;;;;;;iBAIA,I;;;;;;;iBAIA,I;;;;;;;iBAIA,I;;;;;;;iBAIW,I;;;AA2GjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\r\nimport { _decorator, Component, Node, NodePool, Prefab, Button,instantiate, CCBoolean, math, randomRangeInt, RichText, director, Camera, Vec3, Label, Event, randomRange, color } from 'cc';\r\nimport { DEBUG } from 'cc/env';\r\nimport { GameManager } from './GameManager';\r\nimport { PlayerControl } from './PlayerControl';\r\nimport { GlobalFunction } from '../global/GlobalFunction';\r\nimport { AudioManager } from './AudioManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('QA')\r\nexport class QA extends Component {\r\n    @property({\r\n        type: GameManager\r\n    })\r\n    gameManager: GameManager = null!;\r\n    @property({\r\n        type: PlayerControl\r\n    })\r\n    playerControl: PlayerControl = null!;\r\n    @property({\r\n        type: CCBoolean,\r\n    })\r\n    isTrue: boolean = false;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    questions: Node = null!;\r\n    @property({\r\n        type: Label,\r\n    })\r\n    question: Label = null!;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    downCount: Node = null!;\r\n    @property({\r\n        type: GlobalFunction\r\n    })\r\n    globalFunc: GlobalFunction = null!;\r\n\r\n    sa = 0;\r\n\r\n    public KeepGo() {\r\n        //this.QAPanel.active = false;\r\n        this.downCount.active = false;\r\n        this.playerControl.animator.resume();\r\n        this.gameManager.isPause = false;\r\n        AudioManager.playSound(\"go\");\r\n    }\r\n\r\n    public SetQA() {\r\n        let a = randomRangeInt(0, 8);\r\n        if (this.sa == a) {\r\n            if (this.sa != 0) {\r\n                a = randomRangeInt(0, this.sa);\r\n            }\r\n            else {\r\n                a = randomRangeInt(1, 8);\r\n            }\r\n        }\r\n        else {\r\n            this.sa = a;\r\n        }\r\n        this.question.string = this.globalFunc.questionBank[a].description;\r\n        console.log(this.question);\r\n        \r\n        this.questions.children[0].children[2].getComponent(Label)!.string = this.globalFunc.questionBank[a].aOption;\r\n        this.questions.children[1].children[2].getComponent(Label)!.string = this.globalFunc.questionBank[a].bOption;\r\n        this.questions.children[2].children[2].getComponent(Label)!.string = this.globalFunc.questionBank[a].cOption;\r\n        this.questions.children[3].children[2].getComponent(Label)!.string = this.globalFunc.questionBank[a].dOption;\r\n        switch (this.globalFunc.questionBank[a].right) {\r\n            case \"A\":\r\n                this.questions.children[0].getComponent(QA)!.isTrue = true;\r\n                break;\r\n            case \"B\":\r\n                this.questions.children[1].getComponent(QA)!.isTrue = true;\r\n                break;\r\n            case \"C\":\r\n                this.questions.children[2].getComponent(QA)!.isTrue = true;\r\n                break;\r\n            case \"D\":\r\n                this.questions.children[3].getComponent(QA)!.isTrue = true;\r\n                break;\r\n            default:\r\n                console.log(\"erro\");\r\n                break;\r\n        }\r\n    }\r\n\r\n    public Select(event: Event) {\r\n        \r\n        let btn = event!.target as Node;\r\n        console.log(this);\r\n        \r\n        let lab = btn.children[2].getComponent(Label);\r\n        lab!.color = color(255,255,255);\r\n        if (btn.getComponent(QA)?.isTrue) {\r\n            AudioManager.playSound(\"right\");\r\n            btn.children[0].active = true;\r\n            btn.children[1].active = false;\r\n            this.scheduleOnce(this.Succeed, 1);\r\n            this.gameManager.DownCount(4);\r\n            this.scheduleOnce(this.KeepGo, 4);\r\n            this.playerControl.isInvisibleH = true;\r\n            this.playerControl.t1 = 1;\r\n        }\r\n        else {\r\n            AudioManager.playSound(\"erro\");\r\n            btn.children[0].active = false;\r\n            btn.children[1].active = true;\r\n            this.scheduleOnce(this.Failed, 1);\r\n          //  this.Failed();\r\n        }\r\n    }\r\n    public GiveUp() {\r\n        this.Failed();\r\n    }\r\n    public ResetStatus() {\r\n        for (let i = 0; i < this.questions.children.length; i++) {\r\n            this.questions.children[i].children[0].active = false;\r\n            this.questions.children[i].children[1].active = false;\r\n            let lab = this.questions.children[i].children[2].getComponent(Label);\r\n            lab!.color = color(62, 105, 160);\r\n            this.questions.children[i].getComponent(QA)!.isTrue = false;\r\n        }\r\n    }\r\n    public Failed() {\r\n        this.ResetStatus();\r\n        this.gameManager.QAPanel.children[1].scale = new Vec3(0, 0, 0);\r\n        this.gameManager.GameOver(false);\r\n    }\r\n    public Succeed() {\r\n        this.gameManager.QAPanel.active = false;\r\n        this.gameManager.QAPanel.children[1].scale = new Vec3(0, 0, 0);\r\n        this.ResetStatus();\r\n    }\r\n    start () {\r\n        // [3]\r\n    }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}