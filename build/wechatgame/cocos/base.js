System.register(["./fog-c82f3158.js","./index-0a9deebe.js","./screen-b918b2af.js","./renderable-component-542a40ea.js","./texture-buffer-pool-b355307f.js","./transform-utils-a9e236ca.js","./json-asset-1decacc3.js","./camera-component-b0aa23d4.js"],(function(e){"use strict";var r,t,o,a,n,i,u,l,s,c,d,g,p,m,f,b,S,h,P,C,y,T,A,I,R,B,w,v,V,F,D,_,M,x,E,O,L,N,j,H,U,z,G,k,W,Q,Y,q,J,X,K,Z,$,ee,re,te,oe,ae,ne,ie,ue,le,se,ce,de,ge,pe,me,fe,be,Se,he,Pe,Ce,ye,Te,Ae,Ie,Re,Be,we,ve,Ve,Fe,De,_e,Me,xe,Ee,Oe,Le,Ne,je,He,Ue,ze,Ge,ke,We,Qe,Ye,qe,Je,Xe,Ke,Ze,$e,er,rr,tr,or,ar,nr,ir,ur,lr,sr,cr,dr,gr,pr,mr,fr,br,Sr,hr,Pr,Cr,yr,Tr,Ar,Ir,Rr,Br,wr,vr,Vr,Fr,Dr,_r,Mr,xr,Er,Or,Lr,Nr,jr,Hr,Ur,zr,Gr,kr,Wr,Qr,Yr,qr,Jr,Xr,Kr,Zr,$r,et,rt,tt,ot,at,nt,it,ut,lt,st,ct,dt,gt,pt,mt,ft,bt,St,ht,Pt,Ct,yt,Tt,At,It,Rt,Bt,wt,vt,Vt,Ft,Dt,_t,Mt,xt,Et,Ot,Lt,Nt,jt,Ht,Ut,zt,Gt,kt,Wt,Qt,Yt,qt,Jt,Xt,Kt,Zt,$t,eo,ro,to,oo,ao,no,io,uo,lo,so,co,go,po,mo,fo,bo,So,ho,Po,Co,yo,To,Ao,Io,Ro,Bo,wo,vo,Vo,Fo,Do,_o,Mo,xo,Eo,Oo,Lo,No,jo,Ho,Uo,zo,Go,ko,Wo,Qo,Yo,qo,Jo,Xo,Ko,Zo,$o,ea,ra,ta,oa,aa,na,ia;return{setters:[function(yo){r=yo.P,t=yo.R,o=yo.C,a=yo.l,n=yo.a,i=yo.w,u=yo.e,l=yo.b,s=yo._,c=yo.c,d=yo.d,g=yo.f,p=yo.g,m=yo.h,f=yo.j,b=yo.i,S=yo.m,h=yo.k,P=yo.n,C=yo.o,y=yo.p,T=yo.q,A=yo.s,I=yo.r,yo.t,R=yo.D,B=yo.B,w=yo.u,v=yo.O,V=yo.S,F=yo.A,D=yo.v,_=yo.F,M=yo.x,x=yo.y,E=yo.T,O=yo.z,L=yo.E,N=yo.M,j=yo.G,H=yo.H,U=yo.I,z=yo.J,G=yo.K,k=yo.L,W=yo.N,Q=yo.Q,Y=yo.U,q=yo.V,J=yo.W,X=yo.X,K=yo.Y,Z=yo.Z,$=yo.$,ee=yo.a0,re=yo.a1,te=yo.a2,oe=yo.a3,ae=yo.a4,ne=yo.a5,ie=yo.a6,ue=yo.a7,le=yo.a8,se=yo.a9,ce=yo.aa,de=yo.ab,ge=yo.ac,pe=yo.ad,me=yo.ae,fe=yo.af,be=yo.ag,Se=yo.ah,he=yo.ai,Pe=yo.aj,Ce=yo.ak,ye=yo.al,Te=yo.am,Ae=yo.an,Ie=yo.ao,Re=yo.ap,Be=yo.aq,we=yo.ar,ve=yo.as,Ve=yo.at,Fe=yo.au,De=yo.av,_e=yo.aw,Me=yo.ax,xe=yo.ay,Ee=yo.az,Oe=yo.aA,Le=yo.aB,Ne=yo.aC,je=yo.aD,He=yo.aE,Ue=yo.aF,ze=yo.aG,Ge=yo.aH,ke=yo.aI,We=yo.aJ,Qe=yo.aK,Ye=yo.aL,qe=yo.aM,Je=yo.aN,Xe=yo.aO,Ke=yo.aP,Ze=yo.aQ,$e=yo.aR,er=yo.aS,rr=yo.aT,tr=yo.aU,or=yo.aV,ar=yo.aW,nr=yo.aX,ir=yo.aY,ur=yo.aZ,lr=yo.a_,sr=yo.a$,cr=yo.b0,dr=yo.b1,gr=yo.b2,pr=yo.b3,mr=yo.b4,fr=yo.b5,br=yo.b6,Sr=yo.b7,hr=yo.b8,Pr=yo.b9,Cr=yo.ba,yr=yo.bb,Tr=yo.bc,Ar=yo.bd,Ir=yo.be,Rr=yo.bf,Br=yo.bg,wr=yo.bh,vr=yo.bi,Vr=yo.bj,Fr=yo.bk,Dr=yo.bl,_r=yo.bm,Mr=yo.bn,xr=yo.bo,Er=yo.bp,Or=yo.bq,Lr=yo.br,Nr=yo.bs,jr=yo.bt,Hr=yo.bu,Ur=yo.bv,zr=yo.bw,Gr=yo.bx,kr=yo.by,Wr=yo.bz,Qr=yo.bA,Yr=yo.bB,qr=yo.bC,Jr=yo.bD,Xr=yo.bE,Kr=yo.bF,Zr=yo.bG,$r=yo.bH,et=yo.bI,rt=yo.bJ,tt=yo.bK,ot=yo.bL,at=yo.bM,nt=yo.bN,it=yo.bO,ut=yo.bP,lt=yo.bQ,st=yo.bR,ct=yo.bS,dt=yo.bT,gt=yo.bU,pt=yo.bV,mt=yo.bW,ft=yo.bX,bt=yo.bY,St=yo.bZ,ht=yo.b_,Pt=yo.b$,Ct=yo.c0,yt=yo.c1,Tt=yo.c2,At=yo.c3,It=yo.c4,Rt=yo.c5,Bt=yo.c6,wt=yo.c7,vt=yo.c8,Vt=yo.c9,Ft=yo.ca,Dt=yo.cb,_t=yo.cc,Mt=yo.cd,xt=yo.ce,Et=yo.cf,Ot=yo.cg,Lt=yo.ch,Nt=yo.ci,jt=yo.cj,Ht=yo.ck,Ut=yo.cl,zt=yo.cm,Gt=yo.cn,kt=yo.co,Wt=yo.cp,Qt=yo.cq,Yt=yo.cr,qt=yo.cs,Jt=yo.ct,Xt=yo.cu,Kt=yo.cv,Zt=yo.cw,$t=yo.cx,eo=yo.cy,ro=yo.cz,to=yo.cA,oo=yo.cB,ao=yo.cC,no=yo.cD,io=yo.cE,uo=yo.cF,lo=yo.cG,so=yo.cH,co=yo.cI,go=yo.cJ,po=yo.cK,mo=yo.cL,fo=yo.cM,bo=yo.cN,So=yo.cO,ho=yo.cP,Po=yo.cQ,Co=yo.cR;var To={};To.AffineTransform=yo.d3,To.Asset=yo.dX,To.BaseNode=yo.eg,To.BitMask=yo.dv,To.CCBoolean=yo.dS,To.CCClass=yo.dL,To.CCFloat=yo.dR,To.CCInteger=yo.dQ,To.CCObject=yo.dM,To.CCString=yo.dT,To.CachedArray=yo.C,To.Color=yo.d8,To.Component=yo.ek,To.DebugMode=yo.e9,To.Details=yo.dP,To.EPSILON=yo.da,To.EffectAsset=yo.e0,To.Enum=yo.dw,To.Event=yo.dU,To.EventTarget=yo.dV,To.Eventify=yo.dW,To.ImageAsset=yo.dZ,To.JavaScript=yo.e4,To.Layers=yo.ei,To.Mat3=yo.d0,To.Mat4=yo.d1,To.Material=yo.e1,To.MissingScript=yo.ej,To.Node=yo.eh,To.Pool=yo.P,To.Prefab=yo.dY,To.PrefabLink=yo.dC,To.Quat=yo.c_,To.Rect=yo.d6,To.RecyclePool=yo.R,To.RenderTexture=yo.e2,To.Script=yo.e3,To.Size=yo.d4,To.SystemEventType=yo.ed,To.Texture2D=yo.d_,To.TextureCube=yo.d$,To.TypeScript=yo.e5,To.VERSION=yo.cS,To.ValueType=yo.dy,To.Vec2=yo.cU,To.Vec3=yo.cW,To.Vec4=yo.cY,To.WorldNode3DToLocalNodeUI=yo.dI,To.WorldNode3DToWorldNodeUI=yo.dJ,To.absMax=yo.du,To.absMaxComponent=yo.dt,To.approx=yo.dc,To.assert=yo.b,To.assertID=yo.g,To.bits=yo.cT,To.builtinResMgr=yo.em,To.ccenum=yo.dx,To.cclegacy=yo.l,To.clamp=yo.dd,To.clamp01=yo.de,To.color=yo.d9,To.convertUtils=yo.dK,To.deserialize=yo.dO,To.effects=yo.el,To.equals=yo.db,To.error=yo.e,To.errorID=yo.f,To.eventManager=yo.ec,To.getError=yo.e8,To.getPhaseID=yo.ef,To.inverseLerp=yo.ds,To.isDisplayStats=yo.e6,To.isValid=yo.dN,To.js=yo.dz,To.lerp=yo.df,To.log=yo.a,To.logID=yo.c,To.macro=yo.eb,To.markAsWarning=yo.dG,To.mat4=yo.d2,To.misc=yo.dA,To.murmurhash2_32_gc=yo.dH,To.nextPow2=yo.dp,To.path=yo.dB,To.pingPong=yo.dr,To.pipeline=yo.ee,To.pseudoRandom=yo.dl,To.pseudoRandomRange=yo.dm,To.pseudoRandomRangeInt=yo.dn,To.quat=yo.c$,To.random=yo.di,To.randomRange=yo.dj,To.randomRangeInt=yo.dk,To.rect=yo.d7,To.removeProperty=yo.dF,To.repeat=yo.dq,To.replaceProperty=yo.dE,To.setDefaultLogTimes=yo.dD,To.setDisplayStats=yo.e7,To.size=yo.d5,To.sys=yo.ea,To.toDegree=yo.dh,To.toRadian=yo.dg,To.v2=yo.cV,To.v3=yo.cX,To.v4=yo.cZ,To.warn=yo.w,To.warnID=yo.d,e(To)},function(r){yo=r.U,To=r.M,Ao=r.a,Io=r.C,Ro=r.b,Bo=r.c,wo=r.d,vo=r.e;var t={};t.AnimationManager=r.x,t.AssetLibrary=r.n,t.AssetManager=r.A,t.CCLoader=r.k,t.ComponentModifier=r.p,t.CubicSplineNumberValue=r.e,t.CubicSplineQuatValue=r.d,t.CubicSplineVec2Value=r.C,t.CubicSplineVec3Value=r.b,t.CubicSplineVec4Value=r.c,t.CurveValueAdapter=r.q,t.Director=r.D,t.EventHandler=r.E,t.HierachyModifier=r.H,t.Scheduler=r.S,t.System=r.o,t.UniformCurveValueAdapter=r.s,t._decorator=r._,t.assetManager=r.j,t.createDefaultPipeline=r.h,t.director=r.f,t.geometry=r.g,t.instantiate=r.i,t.isCustomTargetModifier=r.w,t.isElementModifier=r.v,t.isPropertyModifier=r.t,t.loader=r.l,t.math=r.m,t.resources=r.r,t.url=r.u,e(t)},function(r){Vo=r.C,Fo=r.a,Do=r.b,_o=r.c,Mo=r.d,xo=r.S,Eo=r.e,Oo=r.f,Lo=r.L,No=r.n,jo=r.g,Ho=r.h,Uo=r.M,zo=r.P;var t={};t.DeferredPipeline=r.D,t.EventAcceleration=r.l,t.EventKeyboard=r.m,t.EventMouse=r.E,t.EventTouch=r.k,t.ForwardFlow=r.t,t.ForwardPipeline=r.F,t.ForwardStage=r.u,t.Game=r.G,t.GbufferFlow=r.w,t.GbufferStage=r.x,t.InstancedBuffer=r.I,t.LightingFlow=r.y,t.LightingStage=r.z,t.PipelineStateManager=r.J,t.PostprocessStage=r.A,t.RenderFlow=r.q,t.RenderPipeline=r.p,t.RenderStage=r.r,t.ResolutionPolicy=r.R,t.ShadowFlow=r.B,t.ShadowStage=r.H,t.SystemEvent=r.i,t.Touch=r.T,t.View=r.V,t.game=r.o,t.screen=r.s,t.systemEvent=r.j,t.view=r.v,e(t)},function(r){Go=r.C,ko=r.V,Wo=r.D,Qo=r.M,Yo=r.a,qo=r.R,Jo=r.S,Xo=r.b,Ko=r.c,e("RenderableComponent",r.d)},function(e){Zo=e.R,$o=e.P,ea=e.n,ra=e.T},function(r){ta=r.i,oa=r.a,aa=r.H,na=r.C,ia=r.e;var t={};t.AnimCurve=r.h,t.Animation=r.d,t.AnimationClip=r.k,t.AnimationComponent=r.d,t.AnimationState=r.A,t.CompactValueTypeArray=r.b,t.EventInfo=r.E,t.RatioSampler=r.R,t.bezier=r.f,t.bezierByTime=r.g,t.computeRatioByType=r.j,t.easing=r.c,t.getPathFromRoot=r.l,t.getWorldTransformUntilRoot=r.m,t.sampleAnimationCurve=r.s,e(t)},function(r){var t={};t.BufferAsset=r.B,t.JsonAsset=r.J,t.NodeActivator=r.N,t.PrivateNode=r.P,t.RenderingSubMesh=r.R,t.Scene=r.a,t.SceneAsset=r.S,t.TextAsset=r.T,t.find=r.f,e(t)},function(r){var t={};t.Camera=r.C,t.CameraComponent=r.C,e(t)}],execute:function(){e("memop",Object.freeze({__proto__:null,Pool:r,RecyclePool:t,CachedArray:o})),a.log=n,a.warn=i,a.error=u,a.assert=l,a._throw=s,a.logID=c,a.warnID=d,a.errorID=g,a.assertID=p,a.debug=m,a.path={join:f,extname:b,mainFileName:S,basename:h,dirname:P,changeExtname:C,changeBasename:y,_normalize:T,stripSep:A,get sep(){return I()}};var ua=0,la={};e("gfx",Object.freeze({__proto__:null,DescriptorSet:R,Buffer:B,CommandBuffer:w,get ObjectType(){return v},get Status(){return V},get API(){return F},get SurfaceTransform(){return D},get Feature(){return _},get Format(){return M},get FormatType(){return x},get Type(){return E},get BufferUsageBit(){return O},get BufferFlagBit(){return L},get MemoryAccessBit(){return N},get MemoryUsageBit(){return j},get TextureType(){return H},get TextureUsageBit(){return U},get TextureFlagBit(){return z},get SampleCount(){return G},get Filter(){return k},get Address(){return W},get ComparisonFunc(){return Q},get StencilOp(){return Y},get BlendFactor(){return q},get BlendOp(){return J},get ColorMask(){return X},get ShaderStageFlagBit(){return K},get LoadOp(){return Z},get StoreOp(){return $},get AccessType(){return ee},get PipelineBindPoint(){return re},get PrimitiveMode(){return te},get PolygonMode(){return oe},get ShadeModel(){return ae},get CullMode(){return ne},get DynamicStateFlagBit(){return ie},get StencilFace(){return ue},get DescriptorType(){return le},get QueueType(){return se},get CommandBufferType(){return ce},get ClearFlagBit(){return de},Size:ge,DeviceCaps:pe,Offset:me,Rect:fe,Extent:be,TextureSubresLayers:Se,TextureSubresRange:he,TextureCopy:Pe,TextureBlit:Ce,BufferTextureCopy:ye,Viewport:Te,Color:Ae,BindingMappingInfo:Ie,BufferInfo:Re,BufferViewInfo:Be,DrawInfo:we,DispatchInfo:ve,IndirectBuffer:Ve,TextureInfo:Fe,TextureViewInfo:De,SamplerInfo:_e,Uniform:Me,UniformBlock:xe,UniformSamplerTexture:Ee,UniformSampler:Oe,UniformTexture:Le,UniformStorageImage:Ne,UniformStorageBuffer:je,UniformInputAttachment:He,ShaderStage:Ue,Attribute:ze,ShaderInfo:Ge,InputAssemblerInfo:ke,ColorAttachment:We,DepthStencilAttachment:Qe,SubpassInfo:Ye,RenderPassInfo:qe,GlobalBarrierInfo:Je,TextureBarrierInfo:Xe,FramebufferInfo:Ke,DescriptorSetLayoutBinding:Ze,DescriptorSetLayoutInfo:$e,DescriptorSetInfo:er,PipelineLayoutInfo:rr,InputState:tr,CommandBufferInfo:or,QueueInfo:ar,FormatInfo:nr,MemoryStatus:ir,Obj:ur,DeviceInfo:lr,get AttributeName(){return sr},FormatInfos:cr,DESCRIPTOR_BUFFER_TYPE:dr,DESCRIPTOR_SAMPLER_TYPE:gr,DESCRIPTOR_DYNAMIC_TYPE:pr,DRAW_INFO_SIZE:mr,IsPowerOf2:fr,FormatSize:br,FormatSurfaceSize:Sr,GetTypeSize:hr,getTypedArrayConstructor:Pr,Device:Cr,Framebuffer:yr,InputAssembler:Tr,DescriptorSetLayout:Ar,PipelineLayout:Ir,RasterizerState:Rr,DepthStencilState:Br,BlendTarget:wr,BlendState:vr,PipelineStateInfo:Vr,PipelineState:Fr,Queue:Dr,RenderPass:_r,Sampler:Mr,Shader:xr,Texture:Er,GlobalBarrier:Or,TextureBarrier:Lr}));var sa=Object.freeze({__proto__:null,Ambient:Nr,get CameraFOVAxis(){return Vo},get CameraProjection(){return Fo},get CameraAperture(){return Do},get CameraISO(){return _o},get CameraShutter(){return Mo},SKYBOX_FLAG:xo,Camera:Eo,CameraVisFlags:Go,VisibilityFlags:ko,DirectionalLight:Wo,ColorTemperatureToRGB:Oo,get LightType(){return Lo},nt2lm:No,Light:jo,get ModelType(){return Qo},Model:Yo,ShadowType:jr,PCFType:Hr,Shadows:Ur,RenderScene:qo,Skybox:Ho,SphereLight:Jo,SpotLight:Xo,SubModel:Ko}),ca=function(e){if(void 0===la[e]){var r=1<<ua;la[e]=r,ua+=1}},da=Object.freeze({__proto__:null,addStage:ca,scene:sa,createIA:function(e,r){if(!r.positions)return console.error("The data must have positions field"),null;for(var t=[],o=r.positions.length/3,a=0;a<o;++a)t.push(r.positions[3*a],r.positions[3*a+1],r.positions[3*a+2]),r.normals&&t.push(r.normals[3*a],r.normals[3*a+1],r.normals[3*a+2]),r.uvs&&t.push(r.uvs[2*a],r.uvs[2*a+1]),r.colors&&t.push(r.colors[3*a],r.colors[3*a+1],r.colors[3*a+2]);var n=[];n.push(new ze(sr.ATTR_POSITION,M.RGB32F)),r.normals&&n.push(new ze(sr.ATTR_NORMAL,M.RGB32F)),r.uvs&&n.push(new ze(sr.ATTR_TEX_COORD,M.RG32F)),r.colors&&n.push(new ze(sr.ATTR_COLOR,M.RGB32F));var i=e.createBuffer(new Re(O.VERTEX|O.TRANSFER_DST,j.HOST|j.DEVICE,4*t.length,4*t.length/o));i.update(new Float32Array(t));var u=null;return r.indices&&(u=e.createBuffer(new Re(O.INDEX|O.TRANSFER_DST,j.HOST|j.DEVICE,2*r.indices.length,2))).update(new Uint16Array(r.indices)),e.createInputAssembler(new ke(n,[i],u))},get RenderQueue(){return Zo},get PassStage(){return $o},get PropertyType(){return zr},genHandle:Gr,getPropertyTypeFromHandle:kr,getTypeFromHandle:Wr,getSetIndexFromHandle:Qr,getBindingFromHandle:Yr,getOffsetFromHandle:qr,customizeType:Jr,type2reader:Xr,type2writer:Kr,getDefaultFromType:Zr,overrideMacros:$r,get BatchingSchemes(){return et},Pass:rt,getDeviceShaderVersion:tt,programLib:ot,get SamplerInfoIndex(){return at},defaultSamplerHash:nt,genSamplerHash:it,samplerLib:ut,nearestPOT:ea,TextureBufferPool:ra,MaterialInstance:Uo,PassInstance:zo,ObjectPool:lt,freeHandleArray:st,get PoolType(){return ct},NULL_HANDLE:dt,ShaderPool:gt,DSPool:pt,IAPool:mt,PipelineLayoutPool:ft,FramebufferPool:bt,SubModelArrayPool:St,ModelArrayPool:ht,AttributeArrayPool:Pt,FlatBufferArrayPool:Ct,LightArrayPool:yt,BlendTargetArrayPool:Tt,UIBatchArrayPool:At,RawBufferPool:It,RawObjectPool:Rt,get PassView(){return Bt},PassPool:wt,get SubModelView(){return vt},SubModelPool:Vt,get ModelView(){return Ft},ModelPool:Dt,get BatchView2D(){return _t},BatchPool2D:Mt,get AABBView(){return xt},AABBPool:Et,get SceneView(){return Ot},ScenePool:Lt,get CameraView(){return Nt},CameraPool:jt,get NodeView(){return Ht},NodePool:Ut,get RootView(){return zt},RootPool:Gt,get RenderWindowView(){return kt},RenderWindowPool:Wt,get FrustumView(){return Qt},FrustumPool:Yt,get AmbientView(){return qt},AmbientPool:Jt,get SkyboxView(){return Xt},SkyboxPool:Kt,get FogView(){return Zt},FogPool:$t,get ShadowsView(){return eo},ShadowsPool:ro,get PipelineSceneDataView(){return to},PipelineSceneDataPool:oo,get LightView(){return ao},LightPool:no,get SphereView(){return io},SpherePool:uo,get FlatBufferView(){return lo},FlatBufferPool:so,get SubMeshView(){return co},SubMeshPool:go,get RasterizerStateView(){return po},RasterizerStatePool:mo,get DepthStencilStateView(){return fo},DepthStencilStatePool:bo,get BlendTargetView(){return So},BlendTargetPool:ho,get BlendStateView(){return Po},BlendStatePool:Co});e("renderer",da),e("animation",Object.freeze({__proto__:null,UniformProxyFactory:yo,MorphWeightsValueProxy:To,MorphWeightsAllValueProxy:Ao,isPropertyPath:ta,isCustomPath:oa,HierarchyPath:aa,ComponentPath:na,evaluatePath:ia,CubicSplineVec2Value:Io,CubicSplineVec3Value:Ro,CubicSplineVec4Value:Bo,CubicSplineQuatValue:wo,CubicSplineNumberValue:vo}));var ga=e("NodePool",function(){function e(e){this.poolHandlerComp=void 0,this._pool=void 0,this.poolHandlerComp=e,this._pool=[]}var r=e.prototype;return r.size=function(){return this._pool.length},r.clear=function(){for(var e=this._pool.length,r=0;r<e;++r)this._pool[r].destroy();this._pool.length=0},r.put=function(e){if(e&&-1===this._pool.indexOf(e)){e.removeFromParent();var r=this.poolHandlerComp?e.getComponent(this.poolHandlerComp):null;r&&r.unuse&&r.unuse(),this._pool.push(e)}},r.get=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=this._pool.length-1;if(o<0)return null;var a=this._pool[o];this._pool.length=o;var n=this.poolHandlerComp?a.getComponent(this.poolHandlerComp):null;return n&&n.reuse&&n.reuse(arguments),a},e}());a.NodePool=ga,a.renderer=da}}}));
