{"version":3,"sources":["file:///C:/Users/86152/Desktop/laowang/EulerLand/assets/scripts/puzzle/Q&A2.ts"],"names":["_decorator","Component","Node","CCBoolean","Label","randomRangeInt","GlobalFunction","ccclass","property","QA2","type","CloseQA","QAPanel","active","ResetStatus","SetQA","a","sa","question","string","globalFunc","questionBank","description","questions","children","getComponent","aOption","bOption","cOption","dOption","right","isTrue","console","log","Select","event","btn","target","scheduleOnce","Succeed","Failed","i","length","falsePanel","tipPanel","tipCode","start"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, CCBoolean, Label, randomRangeInt, Event } from 'cc';\r\nimport { GlobalFunction } from '../global/GlobalFunction';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('QA2')\r\nexport class QA2 extends Component {\r\n    @property({\r\n        type: CCBoolean,\r\n    })\r\n    isTrue: boolean = false;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    questions: Node = null!;\r\n    @property({\r\n        type: Label,\r\n    })\r\n    question: Label = null!;\r\n\r\n    @property({\r\n        type: GlobalFunction\r\n    })\r\n    globalFunc: GlobalFunction = null!;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    tipPanel: Node[] = []!;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    falsePanel: Node = null!;\r\n    @property({\r\n        type: Node,\r\n    })\r\n    QAPanel: Node = null!;\r\n\r\n    sa = 0;\r\n    tipCode = 0;\r\n\r\n    public CloseQA() {\r\n        this.QAPanel.active = false;\r\n        this.ResetStatus();\r\n    }\r\n\r\n    public SetQA() {\r\n        this.QAPanel.active = true;\r\n        let a = randomRangeInt(0, 8);\r\n        if (this.sa == a) {\r\n            if (this.sa != 0) {\r\n                a = randomRangeInt(0, this.sa);\r\n            }\r\n            else {\r\n                a = randomRangeInt(1, 8);\r\n            }\r\n        }\r\n        else {\r\n            this.sa = a;\r\n        }\r\n        this.question.string = this.globalFunc.questionBank[a].description;\r\n        this.questions.children[0].children[2].getComponent(Label)!.string = this.globalFunc.questionBank[a].aOption;\r\n        this.questions.children[1].children[2].getComponent(Label)!.string = this.globalFunc.questionBank[a].bOption;\r\n        this.questions.children[2].children[2].getComponent(Label)!.string = this.globalFunc.questionBank[a].cOption;\r\n        this.questions.children[3].children[2].getComponent(Label)!.string = this.globalFunc.questionBank[a].dOption;\r\n        switch (this.globalFunc.questionBank[a].right) {\r\n            case \"A\":\r\n                this.questions.children[0].getComponent(QA2)!.isTrue = true;\r\n                break;\r\n            case \"B\":\r\n                this.questions.children[1].getComponent(QA2)!.isTrue = true;\r\n                break;\r\n            case \"C\":\r\n                this.questions.children[2].getComponent(QA2)!.isTrue = true;\r\n                break;\r\n            case \"D\":\r\n                this.questions.children[3].getComponent(QA2)!.isTrue = true;\r\n                break;\r\n            default:\r\n                console.log(\"erro\");\r\n                break;\r\n        }\r\n    }\r\n\r\n    public Select(event: Event) {\r\n        let btn = event!.target as Node;\r\n        if (btn.getComponent(QA2)?.isTrue) {\r\n            btn.children[0].active = true;\r\n            btn.children[1].active = false;\r\n            this.scheduleOnce(this.Succeed, 2);\r\n        }\r\n        else {\r\n            btn.children[0].active = false;\r\n            btn.children[1].active = true;\r\n            this.scheduleOnce(this.Failed, 2);\r\n        }\r\n    }\r\n\r\n    public ResetStatus() {\r\n        for (let i = 0; i < this.questions.children.length; i++) {\r\n            this.questions.children[i].children[0].active = false;\r\n            this.questions.children[i].children[1].active = false;\r\n            this.questions.children[i].getComponent(QA2)!.isTrue = false;\r\n        }\r\n    }\r\n    public Failed() {\r\n        this.CloseQA();\r\n        this.ResetStatus();\r\n        this.falsePanel.active = true;\r\n    }\r\n    public Succeed() {\r\n        this.CloseQA();\r\n        this.ResetStatus();\r\n        this.tipPanel[this.tipCode].active = true;\r\n    }\r\n    start () {\r\n        // [3]\r\n    }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}