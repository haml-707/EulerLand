{"version":3,"sources":["file:///C:/eulerland%20game/EulerLand/assets/scripts/puzzle/GameManager2.ts"],"names":["_decorator","Component","Node","view","macro","Fade","ccclass","property","GameManager2","type","SetSceneHorizental","framesize","getFrameSize","cvsize","getCanvasSize","setOrientation","ORIENTATION_LANDSCAPE","height","width","setFrameSize","s","getDesignResolutionSize","setDesignResolutionSize","setCanvasSize","SetSceneVertical","ORIENTATION_PORTRAIT","SwitchScene","event","custom","fade","FadeIn","code","Number","scheduleOnce","StartScene","StartGame","startUI","active","gameUI","RestartGame","i","scenes","length","onLoad","start"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node,Canvas, view, macro, find, UITransform } from 'cc';\r\nimport { Fade } from './Fade'\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameManager2')\r\nexport class GameManager2 extends Component {\r\n    @property({\r\n        type: Node\r\n    })\r\n    scenes: Node[] = [];\r\n    @property({\r\n        type: Fade\r\n    })\r\n    fade: Fade = null!;\r\n    @property({\r\n        type: Node\r\n    })\r\n    startUI: Node = null!;\r\n    @property({\r\n        type: Node\r\n    })\r\n    gameUI: Node = null!;\r\n\r\n    code = 0;\r\n\r\n    public SetSceneHorizental() {\r\n        let framesize = view.getFrameSize();\r\n        let cvsize = view.getCanvasSize();\r\n        view.setOrientation(macro.ORIENTATION_LANDSCAPE);\r\n        if (framesize.height > framesize.width)\r\n            view.setFrameSize(framesize.height, framesize.width);\r\n        let s = view.getDesignResolutionSize();\r\n        view.setDesignResolutionSize(s.height, s.width, 2);\r\n        view.setCanvasSize(cvsize.height, cvsize.width);\r\n    }\r\n    public SetSceneVertical() {\r\n        let framesize = view.getFrameSize();\r\n        let cvsize = view.getCanvasSize();\r\n        view.setOrientation(macro.ORIENTATION_PORTRAIT);\r\n        if (framesize.width > framesize.height)\r\n            view.setFrameSize(framesize.height, framesize.width);\r\n        let s = view.getDesignResolutionSize();\r\n        view.setDesignResolutionSize(s.height, s.width, 2);\r\n        view.setCanvasSize(cvsize.height, cvsize.width);\r\n    }\r\n\r\n    public SwitchScene(event: Event, custom: string) {\r\n        this.fade.FadeIn()\r\n        this.code = Number(custom);\r\n        this.scheduleOnce(this.StartScene, 0.25);\r\n    }\r\n    public StartGame() {\r\n        this.startUI.active = false;\r\n        this.gameUI.active = true;\r\n        this.StartScene();\r\n    }\r\n    public RestartGame() {\r\n        this.gameUI.active = false;\r\n        this.startUI.active = true;\r\n    }\r\n    public StartScene() {\r\n        for (let i = 0; i < this.scenes.length; i++)\r\n            this.scenes[i].active = false;\r\n        this.scenes[this.code].active = true;\r\n    }\r\n    onLoad() {\r\n        this.SetSceneHorizental();\r\n    }\r\n    start () {\r\n        // [3]\r\n    }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}